<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org/">
  <head>
    <!--External css-->
    <link rel="stylesheet" href="style.css" />
    <!-- for custom css -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- for icons in web application-->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      rel="stylesheet"
    />
    <!-- for favicon-->
    <link
      rel="shortcut icon"
      href="https://cdn-icons-png.flaticon.com/512/470/470199.png"
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Employee Management Application</title>
  </head>
  <style></style>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light mb-5">
      <div class="container">
        <a class="navbar-brand text-bold" href="#"
          ><i class="fa-solid fa-users" aria-hidden="true"
            >&nbsp;&nbsp;EMS</i
          ></a
        >
      </div>
    </nav>
    <main>
      <div class="container text-center">
        <div class="row row-cols-1 row-cols-md-4 g-3">
          <div class="col">
            <a
              href="#exampleModalToggle1"
              data-bs-toggle="modal"
              role="button"
              style="text-decoration: none; color: white"
            >
              <div class="card h-100">
                <div class="card-body">
                  <h5 class="text-light">
                    <i class="fa fa-plus"></i>&nbsp;Add Employee
                  </h5>
                </div>
              </div>
            </a>
          </div>
          <div class="col">
            <a
              href="#exampleModalToggle2"
              data-bs-toggle="modal"
              role="button"
              style="text-decoration: none; color: white"
            >
              <div class="card h-100">
                <div class="card-body">
                  <h5 class="text-light">
                    <i class="fa fa-plus"></i>&nbsp;Update Employee
                  </h5>
                </div>
              </div>
            </a>
          </div>
          <div class="col">
            <a
              href="#exampleModalToggle3"
              data-bs-toggle="modal"
              role="button"
              style="text-decoration: none; color: white"
            >
              <div class="card h-100">
                <div class="card-body">
                  <h5 class="text-light">
                    <i class="fa fa-plus"></i>&nbsp;Delete Employee
                  </h5>
                </div>
              </div>
            </a>
          </div>
          <div class="col">
            <a
              href="#exampleModalToggle4"
              data-bs-toggle="modal"
              role="button"
              style="text-decoration: none; color: white"
            >
              <div class="card h-100">
                <div class="card-body">
                  <h5 class="text-light">
                    <i class="fa fa-plus"></i>&nbsp;Delete All Employee
                  </h5>
                </div>
              </div>
            </a>
          </div>
        </div>
      </div>
      <br />
      <div class="container items_table mt-5 mb-4">
        <h4
          class="text-center p-2 p-1 mt-2"
          style="
            font-family: 'Times New Roman', Times, serif;
            font-weight: bold;
          "
        >
          Employee Management System
        </h4>
        <table
          class="table table-hover table-bordered border-primary table-striped mt-5 table-responsive"
        >
          <thead class="bg-warning">
            <tr>
              <th scope="col">Sr.No</th>
              <th scope="col">ID</th>
              <th scope="col">Name</th>
              <th scope="col">Email</th>
              <th scope="col">Phone</th>
              <th scope="col">Gender</th>
              <th scope="col">Salary</th>
              <th scope="col">Role</th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="employee,index :${employees}">
              <td th:text="${index.index + 1}"></td>
              <td th:text="${employee.id}"></td>
              <td th:text="${employee.employeeName}"></td>
              <td th:text="${employee.employeeEmail}"></td>
              <td th:text="${employee.employeePhone}"></td>
              <td th:text="${employee.employeeGender}"></td>
              <td th:text="${employee.employeeSalary}"></td>
              <td th:text="${employee.employeeRole+' Developer'}"></td>
            </tr>
          </tbody>
        </table>
      </div>
    </main>
    <!--Model for create-->
    <div
      class="modal fade"
      id="exampleModalToggle1"
      aria-labelledby="exampleModalToggleLabel"
      aria-hidden="true"
      tabindex="-1"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-body">
            <form
              class="p-2"
              th:action="@{/create}"
              th:object="${employee}"
              method="post"
            >
              <center>
                <h4>Add Employee</h4>
              </center>
              <div>
                <label for="employeeName">Employee Name</label>
                <input
                  type="text"
                  th:field="*{employeeName}"
                  class="form-control"
                  placeholder="EmployeeName"
                  required
                />
              </div>
              <div>
                <label for="employeeEmail">Email</label>
                <input
                  type="text"
                  th:field="*{employeeEmail}"
                  class="form-control"
                  placeholder="email address"
                  required
                />
              </div>
              <div>
                <label for="employeePhone">Phone</label>
                <input
                  type="tel"
                  th:field="*{employeePhone}"
                  class="form-control"
                  placeholder="Phone Number"
                  required
                />
              </div>
              <div>
                <label>Gender</label>
                <select
                  th:field="*{employeeGender}"
                  class="form-control"
                  required
                >
                  <option value="" selected>select option</option>
                  <option value="Male">Male</option>
                  <option value="Female">Female</option>
                </select>
              </div>
              <div>
                <label for="employeeSalary">Salary</label>
                <input
                  type="number"
                  th:field="*{employeeSalary}"
                  class="form-control"
                  placeholder="Salary"
                  required
                />
              </div>
              <div>
                <label for="employeeRole">Employee Role</label>
                <select
                  th:field="*{employeeRole}"
                  class="form-control"
                  required
                >
                  <option value="" selected>Select option</option>
                  <option value="Java">Java Developer</option>
                  <option value="Python">Python Developer</option>
                  <option value="Web">Web Developer</option>
                  <option value="Android">Android Developer</option>
                  <option value="UI">UI Developer</option>
                </select>
              </div>
              <button type="submit" class="btn btn-success mt-3 mb-2">
                Add Employee
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!--Model for update-->
    <div
      class="modal fade"
      id="exampleModalToggle2"
      aria-hidden="true"
      aria-labelledby="exampleModalToggleLabel"
      tabindex="-1"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-body">
            <form th:action="@{/update}" th:object="${employee}" method="post">
              <!-- Check if errorMessage is present in the model and display it -->
              <div
                th:if="${errorMessage != null and #strings.isNotEmpty(errorMessage)}"
                class="alert alert-danger alert-dismissible fade show"
                role="alert"
              >
                <p th:text="${errorMessage}"></p>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="alert"
                  aria-label="Close"
                ></button>
              </div>
              <center>
                <h4>Update Employee</h4>
              </center>
              <div>
                <div class="row p-1">
                  <label class="p-1" for="id">Employee ID</label>
                  <input
                    type="text"
                    th:field="*{id}"
                    class="form-control"
                    placeholder="employee id"
                    required
                  />
                </div>
                <label for="employeeName">Employee Name</label>
                <input
                  type="text"
                  th:field="*{employeeName}"
                  class="form-control"
                  placeholder="EmployeeName"
                  required
                />
              </div>
              <div>
                <label for="employeeEmail">Email</label>
                <input
                  type="text"
                  th:field="*{employeeEmail}"
                  class="form-control"
                  placeholder="email address"
                  required
                />
              </div>
              <div>
                <label for="employeePhone">Phone</label>
                <input
                  type="tel"
                  th:field="*{employeePhone}"
                  class="form-control"
                  placeholder="Phone Number"
                  required
                />
              </div>
              <div>
                <label>Gender</label>
                <select
                  th:field="*{employeeGender}"
                  class="form-control"
                  required
                >
                  <option value="" selected>select option</option>
                  <option value="Male">Male</option>
                  <option value="Female">Female</option>
                </select>
              </div>
              <div>
                <label for="employeeSalary">Salary</label>
                <input
                  type="number"
                  th:field="*{employeeSalary}"
                  class="form-control"
                  placeholder="Salary"
                  required
                />
              </div>
              <div>
                <label for="employeeRole">Employee Role</label>
                <select
                  th:field="*{employeeRole}"
                  class="form-control"
                  required
                >
                  <option value="" selected>Select option</option>
                  <option value="Java">Java Developer</option>
                  <option value="Python">Python Developer</option>
                  <option value="Web">Web Developer</option>
                  <option value="Android">Android Developer</option>
                  <option value="UI">UI Developer</option>
                </select>
              </div>
              <button type="submit" class="btn btn-success mt-3 mb-2">
                Add Employee
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Model for delete-->
    <div
      class="modal fade"
      id="exampleModalToggle3"
      aria-hidden="true"
      aria-labelledby="exampleModalToggleLabel"
      tabindex="-1"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-body">
            <form th:action="@{/remove}" th:object="${employee}" method="post">
              <!--Alert Message-->
              <div
                th:if="${alertMessage != null and #strings.isNotEmpty(alertMessage)}"
                class="alert alert-danger alert-dismissible fade show"
                role="alert"
              >
                <p th:text="${alertMessage}"></p>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="alert"
                  aria-label="Close"
                ></button>
              </div>
              <center>
                <h4>Delete Employee</h4>
              </center>
              <div>
                <label for="id">Employee ID</label>
                <input
                  type="text"
                  th:field="*{id}"
                  class="form-control"
                  placeholder="Employee Id"
                  required
                />
              </div>
              <button type="submit" class="btn btn-danger mt-3 mb-2">
                Delete Employee
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!--Delete all Employee-->
    <div
      class="modal fade"
      id="exampleModalToggle4"
      aria-hidden="true"
      aria-labelledby="deleteAllModalLabe4"
      tabindex="-1"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-body">
            <form
              th:action="@{/remove/all}"
              th:object="${confirmationForm}"
              method="post"
            >
              <center>
                <h4>Delete All Emlpoyee</h4>
              </center>
              <div>
                <label class="text-warning" for="confiramtion"
                  >Type 'yes' for Confirmation</label
                >
                <input
                  type="text"
                  th:field="*{confirmation}"
                  class="form-control"
                  placeholder="confirmation"
                  required
                />
                <button type="submit" class="btn btn-dark mt-3 mb-2">
                  Delete All Employees
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <!-- bootstrap js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
